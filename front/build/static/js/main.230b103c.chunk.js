(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{115:function(e,t,r){"use strict";r.r(t);var n=r(1),c=r(27),a=r.n(c),s=r(6),i=r(40),o=r(70),d=r(71),l=r(11),j="PRODUCT_LIST_REQUEST",u="PRODUCT_LIST_SUCCESS",h="PRODUCT_LIST_FAIL",b="PRODUCT_DETAILS_REQUEST",p="PRODUCT_DETAILS_SUCCESS",O="PRODUCT_DETAILS_FAIL",x="PRODUCT_DETAILS_REQUEST",m="PRODUCT_DETAILS_SUCCESS",f="PRODUCT_DETAILS_FAIL",y=r(37),g="ADD_TO_CART",v="REMOVE_FROM_CART",S="SAVE_SHIPPING_ADDRESS",I="SAVE_PAYMENT_METHOD",E="CLEAR_CART",C="USER_LOGIN_REQUEST",L="USER_LOGIN_SUCCESS",_="USER_LOGIN_FAIL",A="USER_LOGOUT",k="USER_REGISTER_REQUEST",R="USER_REGISTER_SUCCESS",P="USER_REGISTER_FAIL",w="USER_DETAILS_REQUEST",T="USER_DETAILS_SUCCESS",N="USER_DETAILS_FAIL",D="USER_DETAILS_RESET",U="USER_UPDATE_REQUEST",G="USER_UPDATE_SUCCESS",M="USER_UPDATE_FAIL",F="USER_UPDATE_RESET",B="USER_LIST_REQUEST",q="USER_LIST_SUCCESS",Q="USER_LIST_FAIL",Y="USER_LIST_RESET",$="USER_DELETE_REQUEST",J="USER_DELETE_SUCCESS",z="USER_DELETE_FAIL",V="USER_GET_REQUEST",W="USER_GET_SUCCESS",H="USER_GET_FAIL",K="USER_MODIFY_REQUEST",X="USER_MODIFY_SUCCESS",Z="USER_MODIFY_FAIL",ee="USER_MODIFY_RESET",te="PLACE_ORDER_REQUEST",re="PLACE_ORDER_SUCCESS",ne="PLACE_ORDER_FAIL",ce="ORDER_RESET",ae="ORDER_DETAILS_REQUEST",se="ORDER_DETAILS_SUCCESS",ie="ORDER_DETAILS_FAIL",oe="ORDER_PAY_REQUEST",de="ORDER_PAY_SUCCESS",le="ORDER_PAY_FAIL",je="ORDER_PAY_RESET",ue="ALL_ORDERS_REQUEST",he="ALL_ORDERS_SUCCESS",be="ALL_ORDERS_FAIL",pe="ALL_ORDERS_RESET",Oe=Object(i.combineReducers)({productList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return{loading:!0,products:[]};case u:return{loading:!1,products:t.payload};case h:return{loading:!1,error:t.payload};default:return e}},productDetail:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{review:[]}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(l.a)({loading:!0},e);case p:return{loading:!1,product:t.payload};case O:return{loading:!1,error:t.payload};default:return e}},productDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return{loading:!0};case m:return{loading:!1,success:!0};case f:return{loading:!1,error:t.payload};default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[],shippingAddress:{},paymentMethod:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:var r=t.payload,n=e.cartItems.find((function(e){return e.product===r.product}));return n?Object(l.a)(Object(l.a)({},e),{},{cartItems:e.cartItems.map((function(e){return e.product===n.product?r:e}))}):Object(l.a)(Object(l.a)({},e),{},{cartItems:[].concat(Object(y.a)(e.cartItems),[r])});case v:return Object(l.a)(Object(l.a)({},e),{},{cartItems:e.cartItems.filter((function(e){return e.product!==t.payload}))});case S:return Object(l.a)(Object(l.a)({},e),{},{shippingAddress:t.payload});case I:return Object(l.a)(Object(l.a)({},e),{},{paymentMethod:t.payload});case E:return Object(l.a)(Object(l.a)({},e),{},{cartItems:[]});default:return e}},userLogin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return{loading:!0};case L:return{loading:!1,userInfo:t.payload};case _:return{loading:!1,error:t.payload};case A:return{};default:return e}},userRegister:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return{loading:!0};case R:return{loading:!1,userInfo:t.payload};case P:return{loading:!1,error:t.payload};case A:return{};default:return e}},userDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return Object(l.a)(Object(l.a)({},e),{},{loading:!0});case T:return{loading:!1,user:t.payload};case N:return{loading:!1,error:t.payload};case D:return{user:{}};default:return e}},userUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U:return{loading:!0};case G:return{loading:!1,success:!0,userInfo:t.payload};case M:return{loading:!1,error:t.payload};case F:return{};default:return e}},userList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{users:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B:return{loading:!0};case q:return{loading:!1,users:t.payload};case Q:return{loading:!1,error:t.payload};case Y:return{};default:return e}},userDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $:return{loading:!0};case J:return{loading:!1,success:!0};case z:return{loading:!1,error:t.payload};default:return e}},userGet:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case V:return{loading:!0};case W:return{loading:!1,user:t.payload};case H:return{loading:!1,error:t.payload};default:return e}},userModify:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case K:return{loading:!0};case X:return{loading:!1,success:!0};case Z:return{loading:!1,error:t.payload};case ee:return{user:{}};default:return e}},orderPlace:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te:return{loading:!0};case re:return{loading:!1,success:!0,order:t.payload};case ne:return{loading:!1,error:t.payload};case ce:return{};default:return e}},orderDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0,orderItems:[],shippingAddress:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ae:return Object(l.a)(Object(l.a)({},e),{},{loading:!0});case se:return{loading:!1,order:t.payload};case ie:return{loading:!1,error:t.payload};default:return e}},orderPay:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0,orderItems:[],shippingAddress:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case oe:return{loading:!0};case de:return{loading:!1,success:!0};case le:return{loading:!1,error:t.payload};case je:return{};default:return e}},allOrders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ue:return{loading:!0};case he:return{loading:!1,orders:t.payload};case be:return{loading:!1,error:t.payload};case pe:return{orders:[]};default:return e}}}),xe=localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[],me=localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null,fe={cart:{cartItems:xe,shippingAddress:localStorage.getItem("shippingAddress")?JSON.parse(localStorage.getItem("shippingAddress")):{},paymentMethod:localStorage.getItem("paymentMethod")?JSON.parse(localStorage.getItem("paymentMethod")):{}},userLogin:{userInfo:me}},ye=[o.a],ge=Object(i.createStore)(Oe,fe,Object(d.composeWithDevTools)(i.applyMiddleware.apply(void 0,ye))),ve=(r(86),r(87),r(121)),Se=r(19),Ie=r(13),Ee=r(129),Ce=r(131),Le=r(127),_e=r(21),Ae=r(8),ke=r.n(Ae),Re=r(12),Pe=r(14),we=r.n(Pe),Te=r(0),Ne=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.userLogin})).userInfo;Object(n.useEffect)((function(){}),[t]);return Object(Te.jsx)("header",{children:Object(Te.jsx)(Ee.a,{bg:"dark",variant:"dark",expand:"lg",collapseOnSelect:!0,children:Object(Te.jsxs)(ve.a,{children:[Object(Te.jsx)(_e.LinkContainer,{to:"/",children:Object(Te.jsx)(Ee.a.Brand,{children:"WebStore"})}),Object(Te.jsx)(Ee.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(Te.jsx)(Ee.a.Collapse,{id:"basic-navbar-nav",children:Object(Te.jsxs)(Ce.a,{className:"mr-auto",children:[Object(Te.jsx)(_e.LinkContainer,{to:"/Cart",children:Object(Te.jsxs)(Ce.a.Link,{children:[Object(Te.jsx)("i",{className:"fas fa-shopping-cart"}),"Cart"]})}),t?Object(Te.jsxs)(Le.a,{title:t.name,id:"username",children:[Object(Te.jsx)(_e.LinkContainer,{to:"/profile",children:Object(Te.jsx)(Le.a.Item,{children:"profile"})}),Object(Te.jsx)(Le.a.Item,{onClick:function(){e((function(e){localStorage.removeItem("userInfo"),e({type:A}),e({type:D}),e({type:pe}),e({type:Y})}))},children:" LogOut"})]}):Object(Te.jsx)(_e.LinkContainer,{to:"/Login",children:Object(Te.jsxs)(Ce.a.Link,{children:[Object(Te.jsx)("i",{className:"fas fa-user "}),"Login"]})}),t&&t.isAdmin&&Object(Te.jsxs)(Le.a,{title:"Admin",id:"Admin-queue",children:[Object(Te.jsx)(_e.LinkContainer,{to:"/admin/userlist",children:Object(Te.jsx)(Le.a.Item,{children:"usersList"})}),Object(Te.jsx)(_e.LinkContainer,{to:"/admin/orders",children:Object(Te.jsx)(Le.a.Item,{children:"orders"})}),Object(Te.jsx)(_e.LinkContainer,{to:"/admin/products",children:Object(Te.jsx)(Le.a.Item,{children:"products"})})]})]})})]})})})},De=r(122),Ue=r(75),Ge=function(){return Object(Te.jsx)("footer",{className:"text-center py-3",children:Object(Te.jsx)(ve.a,{children:Object(Te.jsx)(De.a,{children:Object(Te.jsx)(Ue.a,{children:"CopyRight \xa9 WebStore"})})})})},Me=r(132),Fe=function(e){var t=e.value,r=e.text,n=e.color;return Object(Te.jsxs)("div",{className:"rating",children:[Object(Te.jsx)("span",{children:Object(Te.jsx)("i",{style:{color:n},className:t>=1?"fas fa-star":t>=.5?"fas fa-star-half-alt":"fas fa-star-empty"})}),Object(Te.jsx)("span",{children:Object(Te.jsx)("i",{style:{color:n},className:t>=2?"fas fa-star":t>=1.5?"fas fa-star-half-alt":"fas fa-star-empty"})}),Object(Te.jsx)("span",{children:Object(Te.jsx)("i",{style:{color:n},className:t>=3?"fas fa-star":t>=2.5?"fas fa-star-half-alt":"fas fa-star-empty"})}),Object(Te.jsx)("span",{children:Object(Te.jsx)("i",{style:{color:n},className:t>=4?"fas fa-star":t>=3.5?"fas fa-star-half-alt":"fas fa-star-empty"})}),Object(Te.jsx)("span",{children:Object(Te.jsx)("i",{style:{color:n},className:t>=5?"fas fa-star":t>=4.5?"fas fa-star-half-alt":"fas fa-star-empty"})}),r]})},Be=function(e){var t=e.val,r=t._id;return Object(Te.jsxs)(Me.a,{className:"my-3 p-3 rounded",children:[Object(Te.jsx)(Se.Link,{to:"/product/".concat(r),children:Object(Te.jsx)(Me.a.Img,{src:t.image})}),Object(Te.jsxs)(Me.a.Body,{children:[Object(Te.jsx)(Se.Link,{to:"/product/".concat(r),children:Object(Te.jsx)(Me.a.Title,{as:"div",children:Object(Te.jsxs)("strong",{children:[" ",t.name]})})}),Object(Te.jsx)(Me.a.Text,{as:"div",children:Object(Te.jsx)("div",{className:"my-3",children:Object(Te.jsx)(Fe,{value:t.rating,text:"".concat(t.numReviews," reviews"),color:"yellow"})})}),Object(Te.jsxs)(Me.a.Text,{as:"h3",children:["$",t.price]})]})]})},qe=function(){return function(){var e=Object(Re.a)(ke.a.mark((function e(t){var r,n;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:j}),e.next=4,we.a.get("/api/products/");case 4:r=e.sent,n=r.data,t({type:u,payload:n}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:h,payload:e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},Qe=r(123),Ye=function(){return Object(Te.jsx)(Qe.a,{style:{height:"100px",width:"100px",margin:"auto",display:"block"},animation:"border",role:"status",children:Object(Te.jsx)("span",{className:"sr-only",children:"Loading..."})})},$e=r(130),Je=function(e){var t=e.variant,r=e.children;return Object(Te.jsx)($e.a,{variant:t,children:r})},ze=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.productList})),r=t.error,c=t.loading,a=t.products;return Object(n.useEffect)((function(){e(qe())}),[e]),Object(Te.jsxs)("div",{children:[Object(Te.jsx)("h1",{children:"LATEST PRODUCTS"}),c?Object(Te.jsx)(Ye,{}):r?Object(Te.jsx)(Je,{variant:"danger",children:r}):Object(Te.jsx)(De.a,{children:a.map((function(e){return Object(Te.jsx)(Ue.a,{sm:12,md:6,lg:4,xl:3,children:Object(Te.jsx)(Be,{val:e})},e._id)}))})]})},Ve=r(10),We=r(124),He=r(125),Ke=r(128),Xe=r(74),Ze=function(e){var t=e.match,r=e.history,c=t.params.id,a=Object(n.useState)(1),i=Object(Ve.a)(a,2),o=i[0],d=i[1],l=Object(s.b)(),j=Object(s.c)((function(e){return e.productDetail})),u=j.loading,h=j.product;Object(n.useEffect)((function(){var e;l((e=c,function(){var t=Object(Re.a)(ke.a.mark((function t(r){var n,c;return ke.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:b}),t.next=4,we.a.get("/api/products/".concat(e));case 4:n=t.sent,c=n.data,r({type:p,payload:c}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),r({type:O,payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()))}),[l,t,c]);return Object(Te.jsxs)("div",{children:[Object(Te.jsx)(Se.Link,{to:"/",className:"btn btn-dark my-3",children:"GO BACK"}),u?Object(Te.jsx)(Ye,{}):Object(Te.jsxs)(De.a,{children:[Object(Te.jsx)(Ue.a,{md:6,children:Object(Te.jsx)(We.a,{src:h.image,alt:h.name,fluid:!0})}),Object(Te.jsx)(Ue.a,{md:3,children:Object(Te.jsxs)(He.a,{children:[Object(Te.jsx)(He.a.Item,{children:Object(Te.jsx)("h3",{children:h.name})}),Object(Te.jsx)(He.a.Item,{children:Object(Te.jsx)(Fe,{value:h.rating,text:"".concat(h.numReviews," reviews"),color:"yellow",children:h.name})}),Object(Te.jsxs)(He.a.Item,{children:["Description:",h.description]}),Object(Te.jsxs)(He.a.Item,{children:["Price:",h.price]})]})}),Object(Te.jsx)(Ue.a,{md:3,children:Object(Te.jsx)(Me.a,{children:Object(Te.jsxs)(He.a,{children:[Object(Te.jsx)(He.a.Item,{children:Object(Te.jsxs)(De.a,{children:[Object(Te.jsx)(Ue.a,{children:"Price:"}),Object(Te.jsx)(Ue.a,{children:Object(Te.jsxs)("strong",{children:["$",h.price]})})]})}),Object(Te.jsx)(He.a.Item,{children:Object(Te.jsxs)(De.a,{children:[Object(Te.jsx)(Ue.a,{children:"Status:"}),Object(Te.jsx)(Ue.a,{children:h.countInStock>0?"IN STOCK":"OUT OF STOCK"})]})}),h.countInStock>0&&Object(Te.jsx)(He.a.Item,{children:Object(Te.jsxs)(De.a,{children:[Object(Te.jsx)(Ue.a,{children:"Qty"}),Object(Te.jsx)(Ue.a,{className:"my-1",children:Object(Te.jsx)(Ke.a.Control,{as:"select",value:o,onChange:function(e){d(e.target.value)},children:Object(y.a)(Array(h.countInStock).keys()).map((function(e){return Object(Te.jsx)("option",{value:e+1,children:e+1},e+1)}))})})]})}),Object(Te.jsx)(He.a.Item,{children:Object(Te.jsx)(Xe.a,{onClick:function(){r.push("/Cart/".concat(t.params.id,"?qty=").concat(o))},className:"btn-block",type:"button",disabled:h.countInStock<1,children:"ADD TO CART"})})]})})})]})]})},et=function(e,t){return function(){var r=Object(Re.a)(ke.a.mark((function r(n,c){var a,s;return ke.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,we.a.get("/api/products/".concat(e));case 2:a=r.sent,s=a.data,n({type:g,payload:{product:s._id,name:s.name,image:s.image,price:s.price,countInStock:s.countInStock,qty:t}}),localStorage.setItem("cartItems",JSON.stringify(c().cart.cartItems));case 6:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}()},tt=function(e){var t=e.match,r=e.location,c=e.history,a=t.params.id,i=r.search?Number(r.search.split("=")[1]):1,o=Object(s.b)(),d=Object(s.c)((function(e){return e.cart})).cartItems;Object(n.useEffect)((function(){a&&o(et(a,i))}),[o,a,i]);var l=function(e){o(function(e){return function(){var t=Object(Re.a)(ke.a.mark((function t(r,n){var c,a;return ke.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,we.a.get("/api/products/".concat(e));case 2:c=t.sent,a=c.data,r({type:v,payload:a._id}),localStorage.setItem("cartItems",JSON.stringify(n().cart.cartItems));case 6:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}(e))};return Object(Te.jsx)("div",{children:Object(Te.jsxs)(De.a,{children:[Object(Te.jsxs)(Ue.a,{md:8,children:[Object(Te.jsx)("h1",{children:"Shopping Cart"}),0===d.length?Object(Te.jsxs)(Je,{variant:"info",children:["Your Cart is Empty now ",Object(Te.jsx)(Se.Link,{to:"/",children:"Go Back"})]}):Object(Te.jsx)(He.a,{variant:"flush",children:d.map((function(e){return Object(Te.jsx)(He.a.Item,{children:Object(Te.jsxs)(De.a,{children:[Object(Te.jsx)(Ue.a,{md:2,children:Object(Te.jsx)(We.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0})}),Object(Te.jsx)(Ue.a,{md:3,children:Object(Te.jsx)(Se.Link,{to:"/product/".concat(e.product),children:e.name})}),Object(Te.jsxs)(Ue.a,{md:2,children:["$",e.price]}),Object(Te.jsx)(Ue.a,{md:3,children:Object(Te.jsx)(Ke.a.Control,{as:"select",value:e.qty,onChange:function(t){o(et(e.product,Number(t.target.value)))},children:Object(y.a)(Array(e.countInStock).keys()).map((function(e){return Object(Te.jsx)("option",{value:e+1,children:e+1},e+1)}))})}),Object(Te.jsx)(Ue.a,{md:1,children:Object(Te.jsx)(Xe.a,{type:"button",variant:"dark",onClick:function(){return l(e.product)},children:Object(Te.jsx)("i",{className:"fas fa-trash"})})})]})},e.product)}))})]}),Object(Te.jsx)(Ue.a,{md:4,children:Object(Te.jsxs)(Me.a,{children:[Object(Te.jsx)(He.a,{variant:"flush",children:Object(Te.jsxs)(He.a.Item,{children:[Object(Te.jsxs)("h2",{children:["Subtotal (",d.reduce((function(e,t){return e+t.qty}),0),") ITEMS"]}),"(",d.reduce((function(e,t){return e+t.qty*Number(t.price)}),0).toFixed(2),")"]})}),Object(Te.jsx)(He.a.Item,{children:Object(Te.jsx)(Xe.a,{type:"button",className:"btn-block",disabled:0===d.length,onClick:function(){c.push("/Login?redirect=shipping")},children:"Proceed To Checkout"})})]})})]})})},rt=function(e){var t=e.location,r=e.history,c=Object(n.useState)(""),a=Object(Ve.a)(c,2),i=a[0],o=a[1],d=Object(n.useState)(""),l=Object(Ve.a)(d,2),j=l[0],u=l[1],h=Object(s.b)(),b=t.search?t.search.split("=")[1]:"/",p=Object(s.c)((function(e){return e.userLogin})),O=p.error,x=p.loading,m=p.userInfo;Object(n.useEffect)((function(){m&&r.push(b)}),[r,m,b]);return Object(Te.jsxs)("div",{children:[Object(Te.jsx)("h1",{children:"Sign in"}),O&&Object(Te.jsxs)(Je,{variant:"dark",children:[" ",O," "]}),x&&Object(Te.jsx)(Ye,{}),Object(Te.jsxs)(Ke.a,{onSubmit:function(e){e.preventDefault(),h(function(e,t){return function(){var r=Object(Re.a)(ke.a.mark((function r(n){var c,a,s;return ke.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n({type:C}),c={headers:{"Content-type":"application/json"}},r.next=5,we.a.post("/api/users/login/",{username:e,password:t},c);case 5:a=r.sent,s=a.data,n({type:L,payload:s}),localStorage.setItem("userInfo",JSON.stringify(s)),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(0),n({type:_,payload:r.t0.response&&r.t0.response.data.detail?r.t0.response.data.detail:r.t0.message});case 14:case"end":return r.stop()}}),r,null,[[0,11]])})));return function(e){return r.apply(this,arguments)}}()}(i,j))},children:[Object(Te.jsxs)(Ke.a.Group,{className:"mb-3",controlId:"email",children:[Object(Te.jsx)(Ke.a.Label,{children:"Username"}),Object(Te.jsx)(Ke.a.Control,{type:"email",placeholder:"Enter email",value:i,onChange:function(e){return o(e.target.value)}})]}),Object(Te.jsxs)(Ke.a.Group,{className:"mb-3",controlId:"password",children:[Object(Te.jsx)(Ke.a.Label,{children:"Password"}),Object(Te.jsx)(Ke.a.Control,{type:"password",placeholder:"Enter Password",value:j,onChange:function(e){return u(e.target.value)}})]}),Object(Te.jsx)(Xe.a,{variant:"primary",type:"submit",children:"Sign in"})]}),Object(Te.jsx)(De.a,{children:Object(Te.jsxs)(Ue.a,{children:["New Customer?",Object(Te.jsx)(Se.Link,{to:b?"/register?redirect=".concat(b):"/register",children:" Register"})]})})]})},nt=function(e){var t=e.location,r=e.history,c=Object(n.useState)(""),a=Object(Ve.a)(c,2),i=a[0],o=a[1],d=Object(n.useState)(""),l=Object(Ve.a)(d,2),j=l[0],u=l[1],h=Object(n.useState)(""),b=Object(Ve.a)(h,2),p=b[0],O=b[1],x=Object(n.useState)(""),m=Object(Ve.a)(x,2),f=m[0],y=m[1],g=Object(n.useState)(""),v=Object(Ve.a)(g,2),S=v[0],I=v[1],E=Object(s.b)(),C=t.search?t.search.split("=")[1]:"/",_=Object(s.c)((function(e){return e.userRegister})),A=_.error,w=_.loading,T=_.userInfo;Object(n.useEffect)((function(){T&&r.push(C)}),[r,T,C]);return Object(Te.jsxs)("div",{children:[S&&Object(Te.jsx)(Je,{variant:"dark",children:S}),Object(Te.jsx)("h1",{children:"Sign Up"}),A&&Object(Te.jsxs)(Je,{variant:"dark",children:[" ",A," "]}),w&&Object(Te.jsx)(Ye,{}),Object(Te.jsxs)(Ke.a,{onSubmit:function(e){e.preventDefault(),j!==f?I("Passwords did not match"):E(function(e,t,r){return function(){var n=Object(Re.a)(ke.a.mark((function n(c){var a,s,i;return ke.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,c({type:k}),a={headers:{"Content-type":"application/json"}},n.next=5,we.a.post("/api/users/register/",{name:e,email:t,password:r},a);case 5:s=n.sent,i=s.data,c({type:R,payload:i}),c({type:L,payload:i}),localStorage.setItem("userInfo",JSON.stringify(i)),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(0),c({type:P,payload:n.t0.response&&n.t0.response.data.detail?n.t0.response.data.detail:n.t0.message});case 15:case"end":return n.stop()}}),n,null,[[0,12]])})));return function(e){return n.apply(this,arguments)}}()}(p,i,j))},children:[Object(Te.jsxs)(Ke.a.Group,{className:"mb-3",controlId:"text",children:[Object(Te.jsx)(Ke.a.Label,{children:"Name"}),Object(Te.jsx)(Ke.a.Control,{type:"text",required:!0,placeholder:"Enter your full name",value:p,onChange:function(e){return O(e.target.value)}})]}),Object(Te.jsxs)(Ke.a.Group,{className:"mb-3",controlId:"email",children:[Object(Te.jsx)(Ke.a.Label,{children:"Email Address"}),Object(Te.jsx)(Ke.a.Control,{type:"email",required:!0,placeholder:"Enter email",value:i,onChange:function(e){return o(e.target.value)}})]}),Object(Te.jsxs)(Ke.a.Group,{className:"mb-3",controlId:"password",children:[Object(Te.jsx)(Ke.a.Label,{children:"Password"}),Object(Te.jsx)(Ke.a.Control,{type:"password",placeholder:"Enter Password",value:j,onChange:function(e){return u(e.target.value)}})]}),Object(Te.jsxs)(Ke.a.Group,{className:"mb-3",controlId:"password",children:[Object(Te.jsx)(Ke.a.Label,{children:"Confirm Password"}),Object(Te.jsx)(Ke.a.Control,{type:"password",placeholder:"Confirm Your Password",value:f,onChange:function(e){return y(e.target.value)}})]}),Object(Te.jsx)(Xe.a,{variant:"primary",type:"submit",children:"Sign Up"})]}),Object(Te.jsx)(De.a,{children:Object(Te.jsxs)(Ue.a,{children:["Have an Account?",Object(Te.jsx)(Se.Link,{to:C?"/login?redirect=".concat(C):"/register",children:" Sign In"})]})})]})},ct=r(126),at=function(e){return function(){var t=Object(Re.a)(ke.a.mark((function t(r,n){var c,a,s,i,o;return ke.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:ae}),c=n(),a=c.userLogin.userInfo,s={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(a.token)}},t.next=6,we.a.get("/api/orders/".concat(e,"/"),s);case 6:i=t.sent,o=i.data,r({type:se,payload:o}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:ie,payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()},st=function(e){var t=e.history,r=Object(s.b)(),c=Object(n.useState)(""),a=Object(Ve.a)(c,2),i=a[0],o=a[1],d=Object(n.useState)(""),l=Object(Ve.a)(d,2),j=l[0],u=l[1],h=Object(n.useState)(""),b=Object(Ve.a)(h,2),p=b[0],O=b[1],x=Object(n.useState)(""),m=Object(Ve.a)(x,2),f=m[0],y=m[1],g=Object(n.useState)(""),v=Object(Ve.a)(g,2),S=v[0],I=v[1],E=Object(s.c)((function(e){return e.userDetails})),C=E.error,_=E.loading,A=E.user,k=Object(s.c)((function(e){return e.userLogin})).userInfo,R=Object(s.c)((function(e){return e.userUpdate})).success,P=Object(s.c)((function(e){return e.allOrders})),D=P.loading,B=P.orders,q=P.error;Object(n.useEffect)((function(){k?A&&A.name&&!R&&k._id===A._id?(u(A.name),o(A.email)):(r({type:F}),r(function(){var e=Object(Re.a)(ke.a.mark((function e(t,r){var n,c,a,s,i;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:w}),n=r(),c=n.userLogin.userInfo,a={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(c.token)}},e.next=6,we.a.get("/api/users/profile/",a);case 6:s=e.sent,i=s.data,t({type:T,payload:i}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:N,payload:e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}()),r(function(){var e=Object(Re.a)(ke.a.mark((function e(t,r){var n,c,a,s,i;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:ue}),n=r(),c=n.userLogin.userInfo,a={headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(c.token)}},e.next=6,we.a.get("/api/orders/all/",a);case 6:s=e.sent,i=s.data,t({type:he,payload:i}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:be,payload:e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}())):t.push("/login")}),[r,t,k,A,R,B]);return Object(Te.jsxs)("div",{children:[S&&Object(Te.jsx)(Je,{variant:"dark",children:S}),Object(Te.jsxs)(De.a,{children:[Object(Te.jsxs)(Ue.a,{md:3,children:[Object(Te.jsx)("h2",{children:"User Profile"}),C&&Object(Te.jsxs)(Je,{variant:"dark",children:[" ",C," "]}),_&&Object(Te.jsx)(Ye,{}),Object(Te.jsxs)(Ke.a,{onSubmit:function(e){e.preventDefault(),p!==f?I("PassWords Did Not Match"):(r(function(e,t,r){return function(){var n=Object(Re.a)(ke.a.mark((function n(c,a){var s,i,o,d,l;return ke.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,c({type:U}),s=a(),i=s.userLogin.userInfo,o={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(i.token)}},n.next=6,we.a.put("/api/users/profile/update/",{name:e,email:t,password:r},o);case 6:d=n.sent,l=d.data,c({type:G,payload:l}),c({type:L,payload:l}),localStorage.setItem("userInfo",JSON.stringify(l)),n.next=16;break;case 13:n.prev=13,n.t0=n.catch(0),c({type:M,payload:n.t0.response&&n.t0.response.data.detail?n.t0.response.data.detail:n.t0.message});case 16:case"end":return n.stop()}}),n,null,[[0,13]])})));return function(e,t){return n.apply(this,arguments)}}()}(j,i,p)),I(""))},children:[Object(Te.jsxs)(Ke.a.Group,{className:"mb-3",controlId:"text",children:[Object(Te.jsx)(Ke.a.Label,{children:"Name"}),Object(Te.jsx)(Ke.a.Control,{type:"text",placeholder:"Enter your full name",value:j,onChange:function(e){return u(e.target.value)}})]}),Object(Te.jsxs)(Ke.a.Group,{className:"mb-3",controlId:"email",children:[Object(Te.jsx)(Ke.a.Label,{children:"Email Address"}),Object(Te.jsx)(Ke.a.Control,{type:"email",placeholder:"Enter email",value:i,onChange:function(e){return o(e.target.value)}})]}),Object(Te.jsxs)(Ke.a.Group,{className:"mb-3",controlId:"password",children:[Object(Te.jsx)(Ke.a.Label,{children:"Password"}),Object(Te.jsx)(Ke.a.Control,{type:"password",placeholder:"Enter Password",value:p,onChange:function(e){return O(e.target.value)}})]}),Object(Te.jsxs)(Ke.a.Group,{className:"mb-3",controlId:"password",children:[Object(Te.jsx)(Ke.a.Label,{children:"Confirm Password"}),Object(Te.jsx)(Ke.a.Control,{type:"password",placeholder:"Confirm Your Password",value:f,onChange:function(e){return y(e.target.value)}})]}),Object(Te.jsx)(Xe.a,{variant:"primary",type:"submit",children:"Update"})]})]}),Object(Te.jsxs)(Ue.a,{md:9,children:[Object(Te.jsx)("h2",{children:"My Orders"}),D?Object(Te.jsx)(Ye,{}):q?Object(Te.jsx)(Je,{variant:"danger",children:q}):Object(Te.jsxs)(ct.a,{striped:!0,responsive:!0,className:"table-sm",children:[Object(Te.jsx)("thead",{children:Object(Te.jsxs)("tr",{children:[Object(Te.jsx)("th",{children:"ID"}),Object(Te.jsx)("th",{children:"DATE"}),Object(Te.jsx)("th",{children:"TOTAL"}),Object(Te.jsx)("th",{children:"PAID"}),Object(Te.jsx)("th",{children:"DELIVERED"})]})}),Object(Te.jsx)("tbody",{children:B.map((function(e){return Object(Te.jsxs)("tr",{children:[Object(Te.jsx)("td",{children:e._id}),Object(Te.jsx)("td",{children:e.createdAt.substring(0,10)}),Object(Te.jsx)("td",{children:e.totalPrice}),Object(Te.jsx)("td",{children:e.isPaid?e.paidAt.substring(0,10):Object(Te.jsx)("i",{className:"fas fa-times",style:{color:"red"}})}),Object(Te.jsx)("td",{children:Object(Te.jsx)(Xe.a,{className:"btn-sm",onClick:function(){return r=e._id,void t.push("/order/".concat(r));var r},children:"DETAILS"})})]})}))})]})]})]})]})},it=function(e){return Object(Te.jsxs)(Ce.a,{className:"justify-content-center mb-4",children:[Object(Te.jsx)(Ce.a.Item,{children:e.s1?Object(Te.jsx)(_e.LinkContainer,{to:"/login",children:Object(Te.jsx)(Ce.a.Link,{children:"Login"})}):Object(Te.jsx)(Ce.a.Link,{disabled:!0,children:"Login"})}),Object(Te.jsx)(Ce.a.Item,{children:e.s2?Object(Te.jsx)(_e.LinkContainer,{to:"/shipping",children:Object(Te.jsx)(Ce.a.Link,{children:"Shipping"})}):Object(Te.jsx)(Ce.a.Link,{disabled:!0,children:"Shipping"})}),Object(Te.jsx)(Ce.a.Item,{children:e.s3?Object(Te.jsx)(_e.LinkContainer,{to:"/payment",children:Object(Te.jsx)(Ce.a.Link,{children:"Payment"})}):Object(Te.jsx)(Ce.a.Link,{disabled:!0,children:"Payment"})}),Object(Te.jsx)(Ce.a.Item,{children:e.s4?Object(Te.jsx)(_e.LinkContainer,{to:"/placeorder",children:Object(Te.jsx)(Ce.a.Link,{children:"Place Order"})}):Object(Te.jsx)(Ce.a.Link,{disabled:!0,children:"Place Order"})})]})},ot=function(e){var t=e.history,r=Object(s.c)((function(e){return e.cart})).shippingAddress,c=Object(n.useState)(r.address),a=Object(Ve.a)(c,2),i=a[0],o=a[1],d=Object(n.useState)(r.city),l=Object(Ve.a)(d,2),j=l[0],u=l[1],h=Object(n.useState)(r.country),b=Object(Ve.a)(h,2),p=b[0],O=b[1],x=Object(n.useState)(r.postalCode),m=Object(Ve.a)(x,2),f=m[0],y=m[1],g=Object(s.b)();return Object(Te.jsxs)("div",{children:[Object(Te.jsx)(it,{s1:!0,s2:!0}),Object(Te.jsx)("h1",{style:{textAlign:"center"},children:"Shipping"}),Object(Te.jsx)(ve.a,{className:"d-flex justify-content-center",children:Object(Te.jsxs)(Ke.a,{onSubmit:function(e){var r;e.preventDefault(),g((r={address:i,postalCode:f,city:j,country:p},function(){var e=Object(Re.a)(ke.a.mark((function e(t){return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:S,payload:r}),localStorage.setItem("shippingAddress",JSON.stringify(r));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),t.push("/payment")},children:[Object(Te.jsxs)(Ke.a.Group,{className:"mb-3",controlId:"address",children:[Object(Te.jsx)(Ke.a.Label,{children:"Address"}),Object(Te.jsx)(Ke.a.Control,{type:"text",required:!0,placeholder:"Enter your Address",value:i||"",onChange:function(e){return o(e.target.value)}})]}),Object(Te.jsxs)(Ke.a.Group,{className:"mb-3",controlId:"postalCode",children:[Object(Te.jsx)(Ke.a.Label,{children:"Postal Code"}),Object(Te.jsx)(Ke.a.Control,{type:"number",required:!0,placeholder:"Enter your Postal Code",value:f||"",onChange:function(e){return y(e.target.value)}})]}),Object(Te.jsxs)(Ke.a.Group,{className:"mb-3",controlId:"city",children:[Object(Te.jsx)(Ke.a.Label,{children:"City"}),Object(Te.jsx)(Ke.a.Control,{type:"text",placeholder:"Enter City",value:j||"",onChange:function(e){return u(e.target.value)}})]}),Object(Te.jsxs)(Ke.a.Group,{className:"mb-3",controlId:"country",children:[Object(Te.jsx)(Ke.a.Label,{children:"Country"}),Object(Te.jsx)(Ke.a.Control,{type:"text",placeholder:"Enter your Country",value:p||"",onChange:function(e){return O(e.target.value)}})]}),Object(Te.jsx)(Xe.a,{variant:"primary",type:"submit",children:"Continue"})]})})]})},dt=function(e){var t=e.history,r=Object(s.c)((function(e){return e.cart})).shippingAddress,c=Object(n.useState)("PayPal"),a=Object(Ve.a)(c,2),i=a[0],o=a[1],d=Object(s.b)();r.address||t.push("/shipping");return Object(Te.jsxs)("div",{children:[Object(Te.jsx)(it,{s1:!0,s2:!0,s3:!0}),Object(Te.jsx)("h1",{style:{textAlign:"center"},children:"Payment"}),Object(Te.jsx)(ve.a,{className:"d-flex justify-content-center",children:Object(Te.jsxs)(Ke.a,{onSubmit:function(e){var r;e.preventDefault(),d((r=i,function(){var e=Object(Re.a)(ke.a.mark((function e(t){return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:I,payload:r}),localStorage.setItem("paymentMethod",JSON.stringify(r));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),t.push("/placeorder")},children:[Object(Te.jsxs)(Ke.a.Group,{className:"mb-3",children:[Object(Te.jsx)(Ke.a.Label,{as:"legend",children:"Select Method"}),Object(Te.jsx)(Ue.a,{children:Object(Te.jsx)(Ke.a.Check,{type:"radio",label:"PayPal or Credit Card",id:"PayPal",name:"paymentMethod",checked:!0,onChange:function(e){return o(e.target.checked)}})})]}),Object(Te.jsx)(Xe.a,{variant:"primary",type:"submit",children:"Continue"})]})})]})},lt=r(76),jt=function(e){var t=e.history,r=Object(s.c)((function(e){return e.orderPlace})),c=r.order,a=r.error,i=r.success,o=Object(s.b)(),d=Object(s.c)((function(e){return e.cart}));d.itemsPrice=d.cartItems.reduce((function(e,t){return e+t.price*t.qty}),0).toFixed(2),d.shippingPrice=(d.itemsPrice>100?0:10).toFixed(2),d.taxPrice=(.082*d.itemsPrice).toFixed(2),d.totalPrice=(Number(d.itemsPrice)+Number(d.shippingPrice)+Number(d.taxPrice)).toFixed(2);var l={orderItems:d.cartItems,shippingAddress:d.shippingAddress,paymentMethod:d.paymentMethod,itemsPrice:d.itemsPrice,shippingPrice:d.shippingPrice,taxPrice:d.taxPrice,totalPrice:d.totalPrice};d.paymentMethod||t.push("/payment"),Object(n.useEffect)((function(){i&&(t.push("/order/".concat(c._id)),o({type:ce}))}),[i,t,c,o]);return Object(Te.jsxs)("div",{children:[Object(Te.jsx)(it,{s1:!0,s2:!0,s3:!0,s4:!0}),Object(Te.jsxs)(De.a,{children:[Object(Te.jsx)(Ue.a,{md:8,children:Object(Te.jsxs)(He.a,{variant:"flush",children:[Object(Te.jsxs)(He.a.Item,{children:[Object(Te.jsx)("h2",{children:"Shipping"}),Object(Te.jsxs)("p",{children:[Object(Te.jsx)("strong",{children:"Shipping: "}),d.shippingAddress.address," ",",",d.shippingAddress.postalCode," ",",",d.shippingAddress.city," ",",",d.shippingAddress.country]})]}),Object(Te.jsxs)(He.a.Item,{children:[Object(Te.jsx)("h2",{children:"Payment Method"}),Object(Te.jsxs)("p",{children:[Object(Te.jsx)("strong",{children:"Method: "}),d.paymentMethod," "]})]}),Object(Te.jsxs)(He.a.Item,{children:[Object(Te.jsx)("h2",{children:"Order Items"}),Object(Te.jsx)(He.a,{variant:"flush",children:0===d.cartItems.length?Object(Te.jsx)(Je,{variant:"dark",children:"Your cart is empty"}):d.cartItems.map((function(e,t){return Object(Te.jsx)(lt.a,{children:Object(Te.jsxs)(De.a,{children:[Object(Te.jsx)(Ue.a,{md:2,children:Object(Te.jsx)(We.a,{src:e.image,alt:e.name,fluid:!0})}),Object(Te.jsx)(Ue.a,{md:6,children:Object(Te.jsx)("p",{children:Object(Te.jsx)("strong",{children:e.name})})}),Object(Te.jsx)(Ue.a,{md:4,children:Object(Te.jsxs)("p",{children:[e.qty," ","X"," ",e.price," = $",e.qty*e.price]})})]})},t)}))})]})]})}),Object(Te.jsx)(Ue.a,{md:4,children:Object(Te.jsxs)(Me.a,{children:[Object(Te.jsx)("h2",{style:{textAlign:"center"},children:"Order Summary"}),0===d.cartItems.length?Object(Te.jsx)(Je,{variant:"dark",children:"Your cart is empty"}):Object(Te.jsxs)(He.a,{vaiant:"flush",children:[Object(Te.jsx)(He.a.Item,{children:Object(Te.jsxs)(De.a,{children:[Object(Te.jsx)(Ue.a,{children:Object(Te.jsx)("h",{children:"Items:"})}),Object(Te.jsxs)(Ue.a,{children:["$",d.itemsPrice]})]})}),Object(Te.jsx)(He.a.Item,{children:Object(Te.jsxs)(De.a,{children:[Object(Te.jsx)(Ue.a,{children:Object(Te.jsx)("h",{children:"Shipping:"})}),Object(Te.jsxs)(Ue.a,{children:["$",d.shippingPrice]})]})}),Object(Te.jsx)(He.a.Item,{children:Object(Te.jsxs)(De.a,{children:[Object(Te.jsx)(Ue.a,{children:Object(Te.jsx)("h",{children:"Tax:"})}),Object(Te.jsxs)(Ue.a,{children:["$",d.taxPrice]})]})}),Object(Te.jsx)(He.a.Item,{children:Object(Te.jsxs)(De.a,{children:[Object(Te.jsx)(Ue.a,{children:Object(Te.jsx)("h",{children:"Total:"})}),Object(Te.jsxs)(Ue.a,{children:["$",d.totalPrice]})]})}),a&&Object(Te.jsx)(He.a.Item,{children:Object(Te.jsx)(Je,{variant:"danger",children:a})})]}),Object(Te.jsx)(Xe.a,{type:"button",className:"btn-block",disabled:0===d.cartItems.length,onClick:function(){o(function(e){return function(){var t=Object(Re.a)(ke.a.mark((function t(r,n){var c,a,s,i,o;return ke.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:te}),c=n(),a=c.userLogin.userInfo,s={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(a.token)}},t.next=6,we.a.post("/api/orders/add/",e,s);case 6:i=t.sent,o=i.data,r({type:re,payload:o}),r({type:E,payload:o}),localStorage.removeItem("cartItems"),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),r({type:ne,payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e,r){return t.apply(this,arguments)}}()}(l))},children:"Place Order"})]})})]})]})},ut=function(e){var t=e.match.params.unique,r=Object(s.b)(),c=Object(s.c)((function(e){return e.orderDetails})),a=c.order,i=c.error,o=c.loading,d=Object(s.c)((function(e){return e.orderPay})).success;o||i||(a.itemsPrice=a.orderItems.reduce((function(e,t){return e+t.price*t.qty}),0).toFixed(2)),Object(n.useEffect)((function(){a&&!d&&a._id===Number(t)||r(at(t)),d&&r({type:je})}),[r,a,d,t]);return Object(Te.jsxs)("div",{children:[o&&Object(Te.jsx)(Ye,{}),i&&Object(Te.jsx)(Je,{children:i}),!o&&!i&&Object(Te.jsxs)("div",{children:[Object(Te.jsx)("h1",{children:"ORDER:"}),Object(Te.jsxs)(De.a,{children:[Object(Te.jsx)(Ue.a,{md:8,children:Object(Te.jsxs)(He.a,{variant:"flush",children:[Object(Te.jsxs)(He.a.Item,{children:[Object(Te.jsx)("h2",{children:"Shipping"}),Object(Te.jsxs)("p",{children:[Object(Te.jsx)("strong",{children:"Name: "})," ".concat(a.user.name)," ",Object(Te.jsx)("br",{}),Object(Te.jsx)("strong",{children:"Email: "}),Object(Te.jsx)("a",{href:"mailto:".concat(a.user.email),children:a.user.email}),Object(Te.jsx)("br",{}),Object(Te.jsx)("strong",{children:"Shipping: "}),a.shippingAddress.address," ",",",a.shippingAddress.postalCode," ",",",a.shippingAddress.city," ",",",a.shippingAddress.country]})]}),a.isDelivered?Object(Te.jsx)(He.a.Item,{children:Object(Te.jsxs)(Je,{variant:"success",children:["Delivered on ",a.deliveredAt.substring(0,10)]})}):Object(Te.jsx)(He.a.Item,{children:Object(Te.jsx)(Je,{variant:"warning",children:"Not Delivered"})}),Object(Te.jsxs)(He.a.Item,{children:[Object(Te.jsx)("h2",{children:"Payment Method"}),Object(Te.jsxs)("p",{children:[Object(Te.jsx)("strong",{children:"Method: "}),a.paymentMethod," "]})]}),Object(Te.jsx)(He.a.Item,{children:a.isPaid?Object(Te.jsxs)(Je,{variant:"success",children:["Paid on ",a.paidAt.substring(0,10)]}):Object(Te.jsx)(Je,{variant:"warning",children:"Not Paid"})})]})}),Object(Te.jsx)(Ue.a,{md:4,children:Object(Te.jsxs)(Me.a,{children:[Object(Te.jsx)("h2",{style:{textAlign:"center"},children:"Order Summary"}),0===a.orderItems.length?Object(Te.jsx)(Je,{variant:"dark",children:"Your cart is empty"}):Object(Te.jsxs)(He.a,{vaiant:"flush",children:[Object(Te.jsx)(He.a.Item,{children:Object(Te.jsxs)(De.a,{children:[Object(Te.jsx)(Ue.a,{children:Object(Te.jsx)("h",{children:"Items:"})}),Object(Te.jsxs)(Ue.a,{children:["$",a.itemsPrice]})]})}),Object(Te.jsx)(He.a.Item,{children:Object(Te.jsxs)(De.a,{children:[Object(Te.jsx)(Ue.a,{children:Object(Te.jsx)("h",{children:"Shipping:"})}),Object(Te.jsxs)(Ue.a,{children:["$",a.shippingPrice]})]})}),Object(Te.jsx)(He.a.Item,{children:Object(Te.jsxs)(De.a,{children:[Object(Te.jsx)(Ue.a,{children:Object(Te.jsx)("h",{children:"Tax:"})}),Object(Te.jsxs)(Ue.a,{children:["$",a.taxPrice]})]})}),Object(Te.jsx)(He.a.Item,{children:Object(Te.jsxs)(De.a,{children:[Object(Te.jsx)(Ue.a,{children:Object(Te.jsx)("h",{children:"Total:"})}),Object(Te.jsxs)(Ue.a,{children:["$",a.totalPrice]})]})}),i&&Object(Te.jsx)(He.a.Item,{children:Object(Te.jsx)(Je,{variant:"danger",children:i})}),!a.isPaid&&Object(Te.jsx)(Xe.a,{type:"button",className:"btn-block",onClick:function(){var e;r((e=t,function(){var t=Object(Re.a)(ke.a.mark((function t(r,n){var c,a,s,i,o;return ke.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:oe}),c=n(),a=c.userLogin.userInfo,s={headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(a.token)}},t.next=6,we.a.put("/api/orders/".concat(e,"/pay/"),{},s);case 6:i=t.sent,o=i.data,r({type:de,payload:o}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:le,payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()))},children:"Pay it!!"})]})]})})]})]})]})},ht=function(e){var t=e.match.params.id,r=Object(s.b)(),c=Object(s.c)((function(e){return e.orderDetails})),a=c.order,i=c.error,o=c.loading;return o||i||(a.itemsPrice=a.orderItems.reduce((function(e,t){return e+t.price*t.qty}),0).toFixed(2)),Object(n.useEffect)((function(){a&&a._id===Number(t)||r(at(t))}),[r,a,t]),Object(Te.jsxs)("div",{children:[o&&Object(Te.jsx)(Ye,{}),i&&Object(Te.jsx)(Je,{children:i}),!o&&!i&&Object(Te.jsxs)("div",{children:[Object(Te.jsx)("h1",{children:"ORDER:"}),Object(Te.jsxs)(De.a,{children:[Object(Te.jsx)(Ue.a,{md:8,children:Object(Te.jsxs)(He.a,{variant:"flush",children:[Object(Te.jsxs)(He.a.Item,{children:[Object(Te.jsx)("h2",{children:"Shipping"}),Object(Te.jsxs)("p",{children:[Object(Te.jsx)("strong",{children:"Name: "})," ".concat(a.user.name)," ",Object(Te.jsx)("br",{}),Object(Te.jsx)("strong",{children:"Email: "}),Object(Te.jsx)("a",{href:"mailto:".concat(a.user.email),children:a.user.email}),Object(Te.jsx)("br",{}),Object(Te.jsx)("strong",{children:"Shipping: "}),a.shippingAddress.address," ",",",a.shippingAddress.postalCode," ",",",a.shippingAddress.city," ",",",a.shippingAddress.country]})]}),a.isDelivered?Object(Te.jsx)(He.a.Item,{children:Object(Te.jsxs)(Je,{variant:"success",children:["Delivered on ",a.deliveredAt]})}):Object(Te.jsx)(He.a.Item,{children:Object(Te.jsx)(Je,{variant:"warning",children:"Not Delivered"})}),Object(Te.jsxs)(He.a.Item,{children:[Object(Te.jsx)("h2",{children:"Payment Method"}),Object(Te.jsxs)("p",{children:[Object(Te.jsx)("strong",{children:"Method: "}),a.paymentMethod," "]})]}),Object(Te.jsx)(He.a.Item,{children:a.isPaid?Object(Te.jsxs)(Je,{variant:"success",children:["Paid on ",a.paidAt]}):Object(Te.jsx)(Je,{variant:"warning",children:"Not Paid"})})]})}),Object(Te.jsx)(Ue.a,{md:4,children:Object(Te.jsxs)(Me.a,{children:[Object(Te.jsx)("h2",{style:{textAlign:"center"},children:"Order Summary"}),0===a.orderItems.length?Object(Te.jsx)(Je,{variant:"dark",children:"Your cart is empty"}):Object(Te.jsxs)(He.a,{vaiant:"flush",children:[Object(Te.jsx)(He.a.Item,{children:Object(Te.jsxs)(De.a,{children:[Object(Te.jsx)(Ue.a,{children:Object(Te.jsx)("h",{children:"Items:"})}),Object(Te.jsxs)(Ue.a,{children:["$",a.itemsPrice]})]})}),Object(Te.jsx)(He.a.Item,{children:Object(Te.jsxs)(De.a,{children:[Object(Te.jsx)(Ue.a,{children:Object(Te.jsx)("h",{children:"Shipping:"})}),Object(Te.jsxs)(Ue.a,{children:["$",ce.shippingPrice]})]})}),Object(Te.jsx)(He.a.Item,{children:Object(Te.jsxs)(De.a,{children:[Object(Te.jsx)(Ue.a,{children:Object(Te.jsx)("h",{children:"Tax:"})}),Object(Te.jsxs)(Ue.a,{children:["$",a.taxPrice]})]})}),Object(Te.jsx)(He.a.Item,{children:Object(Te.jsxs)(De.a,{children:[Object(Te.jsx)(Ue.a,{children:Object(Te.jsx)("h",{children:"Total:"})}),Object(Te.jsxs)(Ue.a,{children:["$",a.totalPrice]})]})}),i&&Object(Te.jsx)(He.a.Item,{children:Object(Te.jsx)(Je,{variant:"danger",children:i})})]})]})})]})]})]})},bt=function(e){var t=e.history,r=Object(s.b)(),c=Object(s.c)((function(e){return e.userList})),a=c.loading,i=c.users,o=c.error,d=Object(s.c)((function(e){return e.userLogin})).userInfo,l=Object(s.c)((function(e){return e.userDelete})).success;Object(n.useEffect)((function(){d&&d.isAdmin?r(function(){var e=Object(Re.a)(ke.a.mark((function e(t,r){var n,c,a,s,i;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:B}),n=r(),c=n.userLogin.userInfo,a={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(c.token)}},e.next=6,we.a.get("/api/users/",a);case 6:s=e.sent,i=s.data,t({type:q,payload:i}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:Q,payload:e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}()):t.push("/login")}),[l,r,t,d]);var j=function(e){window.confirm("Are you sure you want to delete the user?")&&r(function(e){return function(){var t=Object(Re.a)(ke.a.mark((function t(r,n){var c,a,s,i,o;return ke.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:$}),c=n(),a=c.userLogin.userInfo,s={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(a.token)}},t.next=6,we.a.delete("/api/users/delete/".concat(e,"/"),s);case 6:i=t.sent,o=i.data,r({type:J,payload:o}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:z,payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()}(e))};return Object(Te.jsxs)("div",{children:[Object(Te.jsx)("h2",{children:"USERS"}),a?Object(Te.jsx)(Ye,{}):o?Object(Te.jsx)(Je,{children:o}):Object(Te.jsxs)(ct.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm",children:[Object(Te.jsx)("thead",{children:Object(Te.jsxs)("tr",{children:[Object(Te.jsx)("th",{children:"ID"}),Object(Te.jsx)("th",{children:"name"}),Object(Te.jsx)("th",{children:"email"}),Object(Te.jsx)("th",{children:"admin"}),Object(Te.jsx)("th",{children:"edit"}),Object(Te.jsx)("th",{children:"delete"})]})}),Object(Te.jsx)("tbody",{children:d&&d.isAdmin&&i&&i.map((function(e){return Object(Te.jsxs)("tr",{children:[Object(Te.jsx)("td",{children:e._id}),Object(Te.jsx)("td",{children:e.name}),Object(Te.jsx)("td",{children:e.email}),Object(Te.jsx)("td",{children:e.isAdmin?Object(Te.jsx)("i",{className:"fas fa-check",style:{color:"green"}}):Object(Te.jsx)("i",{className:"fas fa-check",style:{color:"red"}})}),Object(Te.jsx)("td",{children:Object(Te.jsx)(_e.LinkContainer,{style:{cursor:"pointer"},to:"/admin/user/".concat(e._id,"/edit"),children:Object(Te.jsx)("i",{className:"fas fa-edit"})})}),Object(Te.jsx)("td",{children:Object(Te.jsx)("i",{className:"fas fa-trash",style:{color:"red",cursor:"pointer"},onClick:function(){return j(e._id)}})})]},e._id)}))})]})]})},pt=function(e){var t=e.match,r=e.history,c=t.params.id,a=Object(s.b)(),i=Object(n.useState)(""),o=Object(Ve.a)(i,2),d=o[0],l=o[1],j=Object(n.useState)(""),u=Object(Ve.a)(j,2),h=u[0],b=u[1],p=Object(n.useState)(!1),O=Object(Ve.a)(p,2),x=O[0],m=O[1],f=Object(s.c)((function(e){return e.userGet})),y=f.loading,g=f.user,v=f.error,S=Object(s.c)((function(e){return e.userLogin})).userInfo,I=Object(s.c)((function(e){return e.userModify})),E=I.loading,C=I.success,L=I.error;Object(n.useEffect)((function(){var e;S&&S.isAdmin?C?(a({type:ee}),r.push("/admin/userlist")):g&&g.name&&Number(c)===g._id?(l(g.email),b(g.name),m(g.isAdmin)):a((e=Number(c),function(){var t=Object(Re.a)(ke.a.mark((function t(r,n){var c,a,s,i,o;return ke.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:V}),c=n(),a=c.userLogin.userInfo,s={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(a.token)}},t.next=6,we.a.get("/api/users/".concat(e,"/"),s);case 6:i=t.sent,o=i.data,r({type:W,payload:o}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:H,payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}())):r.push("/login")}),[a,c,g,S,r,C]);return Object(Te.jsx)("div",{children:y?Object(Te.jsx)(Ye,{}):v?Object(Te.jsx)(Je,{children:v}):Object(Te.jsxs)(Te.Fragment,{children:[Object(Te.jsx)(Se.Link,{to:"/admin/userlist",children:"Go Back"}),Object(Te.jsx)("h1",{style:{textAlign:"center"},children:"Edit User"}),E&&Object(Te.jsx)(Ye,{}),L&&Object(Te.jsx)(Je,{children:L}),Object(Te.jsx)(ve.a,{className:"d-flex justify-content-center",children:Object(Te.jsxs)(Ke.a,{onSubmit:function(e){e.preventDefault(),a(function(e,t,r,n){return function(){var c=Object(Re.a)(ke.a.mark((function c(a,s){var i,o,d,l,j;return ke.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,a({type:K}),i=s(),o=i.userLogin.userInfo,d={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(o.token)}},c.next=6,we.a.put("/api/users/update/".concat(e,"/"),{name:t,email:r,is_Admin:n},d);case 6:l=c.sent,j=l.data,a({type:X}),a({type:T,payload:j}),c.next=15;break;case 12:c.prev=12,c.t0=c.catch(0),a({type:Z,payload:c.t0.response&&c.t0.response.data.detail?c.t0.response.data.detail:c.t0.message});case 15:case"end":return c.stop()}}),c,null,[[0,12]])})));return function(e,t){return c.apply(this,arguments)}}()}(Number(c),h,d,x))},children:[Object(Te.jsxs)(Ke.a.Group,{className:"mb-3",controlId:"text",children:[Object(Te.jsx)(Ke.a.Label,{children:"Name"}),Object(Te.jsx)(Ke.a.Control,{type:"text",placeholder:"Enter your full name",value:h,onChange:function(e){return b(e.target.value)}})]}),Object(Te.jsxs)(Ke.a.Group,{className:"mb-3",controlId:"email",children:[Object(Te.jsx)(Ke.a.Label,{children:"Email Address"}),Object(Te.jsx)(Ke.a.Control,{type:"email",placeholder:"Enter email",value:d,onChange:function(e){return l(e.target.value)}})]}),Object(Te.jsx)(Ke.a.Group,{className:"mb-3",controlId:"isadmin",children:Object(Te.jsx)(Ke.a.Check,{label:"Is Admin",type:"checkbox",checked:x,onChange:function(e){return m(e.target.checked)}})}),Object(Te.jsx)(Xe.a,{variant:"primary",type:"submit",children:"Update"})]})})]})})},Ot=function(e){var t=e.history,r=Object(s.b)(),c=Object(s.c)((function(e){return e.productList})),a=c.loading,i=c.error,o=c.products,d=Object(s.c)((function(e){return e.userLogin})).userInfo,l=Object(s.c)((function(e){return e.productDelete})),j=l.loading,u=l.error,h=l.success;Object(n.useEffect)((function(){d&&d.isAdmin?r(qe()):t.push("/login")}),[r,t,d,h]);var b=function(e){window.confirm("Are you sure you want to delete the product?")&&r(function(e){return function(){var t=Object(Re.a)(ke.a.mark((function t(r,n){var c,a,s,i,o;return ke.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:x}),c=n(),a=c.userLogin.userInfo,s={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(a.token)}},t.next=6,we.a.delete("/api/products/delete/".concat(e),s);case 6:i=t.sent,o=i.data,r({type:m,payload:o}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:f,payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()}(e))};return Object(Te.jsxs)("div",{children:[Object(Te.jsxs)(De.a,{children:[Object(Te.jsx)(Ue.a,{md:3,children:Object(Te.jsx)("h2",{children:"productS"})}),Object(Te.jsx)(Ue.a,{md:6,children:" "}),Object(Te.jsx)(Ue.a,{md:3,children:Object(Te.jsxs)(Xe.a,{variant:"dark",children:[Object(Te.jsx)("i",{className:"fas fa-plus"})," ","Create Product"]})})]}),Object(Te.jsx)("br",{}),j&&Object(Te.jsx)(Ye,{}),u&&Object(Te.jsx)(Je,{children:u}),a?Object(Te.jsx)(Ye,{}):i?Object(Te.jsx)(Je,{children:i}):Object(Te.jsxs)(ct.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm",children:[Object(Te.jsx)("thead",{children:Object(Te.jsxs)("tr",{children:[Object(Te.jsx)("th",{children:"ID"}),Object(Te.jsx)("th",{children:"Name"}),Object(Te.jsx)("th",{children:"Price"}),Object(Te.jsx)("th",{children:"Category"}),Object(Te.jsx)("th",{children:"Brand"})]})}),Object(Te.jsx)("tbody",{children:d&&d.isAdmin&&o&&o.map((function(e){return Object(Te.jsxs)("tr",{children:[Object(Te.jsx)("td",{children:e._id}),Object(Te.jsx)("td",{children:e.name}),Object(Te.jsx)("td",{children:e.price}),Object(Te.jsx)("td",{children:e.category}),Object(Te.jsx)("td",{children:e.brand}),Object(Te.jsx)("td",{children:Object(Te.jsx)(_e.LinkContainer,{style:{cursor:"pointer"},to:"/admin/product/".concat(e._id,"/edit"),children:Object(Te.jsx)("i",{className:"fas fa-edit"})})}),Object(Te.jsx)("td",{children:Object(Te.jsx)("i",{className:"fas fa-trash",style:{color:"red",cursor:"pointer"},onClick:function(){return b(e._id)}})})]},e._id)}))})]})]})};var xt=function(){return Object(Te.jsxs)(Se.BrowserRouter,{children:[Object(Te.jsx)(Ne,{}),Object(Te.jsx)("main",{className:"py-5",children:Object(Te.jsxs)(ve.a,{children:[Object(Te.jsx)(Ie.d,{path:"/",component:ze,exact:!0}),Object(Te.jsx)(Ie.d,{path:"/login",component:rt}),Object(Te.jsx)(Ie.d,{path:"/register",component:nt}),Object(Te.jsx)(Ie.d,{path:"/profile",component:st}),Object(Te.jsx)(Ie.d,{path:"/shipping",component:ot}),Object(Te.jsx)(Ie.d,{path:"/payment",component:dt}),Object(Te.jsx)(Ie.d,{path:"/placeorder",component:jt}),Object(Te.jsx)(Ie.d,{path:"/order/:unique",component:ut}),Object(Te.jsx)(Ie.d,{path:"paid/order/:id",component:ht}),Object(Te.jsx)(Ie.d,{path:"/product/:id",component:Ze}),Object(Te.jsx)(Ie.d,{path:"/Cart/:id?",component:tt}),Object(Te.jsx)(Ie.d,{path:"/admin/userlist",component:bt}),Object(Te.jsx)(Ie.d,{path:"/admin/user/:id/edit",component:pt}),Object(Te.jsx)(Ie.d,{path:"/admin/products",component:Ot})]})}),Object(Te.jsx)(Ge,{})]})},mt=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,133)).then((function(t){var r=t.getCLS,n=t.getFID,c=t.getFCP,a=t.getLCP,s=t.getTTFB;r(e),n(e),c(e),a(e),s(e)}))};a.a.render(Object(Te.jsx)(s.a,{store:ge,children:Object(Te.jsx)(xt,{})}),document.getElementById("root")),mt()},86:function(e,t,r){},87:function(e,t,r){}},[[115,1,2]]]);
//# sourceMappingURL=main.230b103c.chunk.js.map