from django.shortcuts import render

from rest_framework.decorators import api_view, permission_classes
from rest_framework.permissions import IsAuthenticated, IsAdminUser
from rest_framework.response import Response


from base.models import Product
#from base.products import products
from base.serializers import ProductSerializer 


@api_view(['GET'])
def getR(request):
        content = [
    {"id":"fca96482bffb6cdd68c78b2a3b","class":"sheet","title":"画布 1","rootTopic":{"id":"3bdab683d9a95208d6c74a9e38","class":"topic","title":"ApePlanet\nData Analytics System","structureClass":"org.xmind.ui.logic.right","children":{"attached":[{"id":"6348ebe8e8eaa16b61de0b77a4","title":"Function\nModules","children":{"attached":[{"title":"1. Setup & Registration & Login","id":"77c99edb-d5af-43c9-a1bb-db32f55fb8a5","children":{"attached":[{"title":"User Management","id":"e08bcf9a-6642-49ac-bd0d-62471ca3b0dc","children":{"attached":[{"title":"Create","id":"001fc19a-7362-4c5a-9722-a73476a10a16","children":{"attached":[{"title":"Email","id":"d58db969-c8aa-4edd-b055-d47d0781008e"},{"title":"Password","id":"6fa9e0eb-325f-4921-8e8c-46d6e16603fd"}]}},{"title":"Modify","id":"53808340-62e6-4073-8e29-513b67e5ae4b","children":{"attached":[{"title":"Delete User","id":"87f0e220-4846-4436-b90f-534d6a074f30"},{"title":"Rename","id":"aa3ab9f0-0435-4dcb-9d20-31fd4c3ec097"},{"title":"Reset Passwords","id":"3d0979da-39f9-4877-99b3-861fa6529b67"}]}},{"title":"Authorization","id":"f5a22aef-a17e-458b-8f8d-764969e16424","children":{"attached":[{"title":"Edit Authority","id":"e34b2037-9f9b-49ac-8784-ef1edbbf065e","children":{"attached":[{"title":"Admin","id":"2f7defb8-0cbb-4231-b8f4-b8be3d7de0dd"},{"title":"Worker","id":"79bf3662-ac9b-4e7a-8af5-5b81b2d72d05"},{"title":"Visitor","id":"a9807006-7465-4a27-85de-9d6fd1654ef6"}]}}]}}]}},{"title":"Campaign Management","id":"acf1b7f4-781b-4769-830a-088c134d64d6","children":{"attached":[{"title":"Create","id":"ef257327-7731-4ffe-94e4-413a793b9cf5","children":{"attached":[{"title":"Project Name","id":"8d0e25a1-72fe-456d-95dc-52b2c622ddc8"},{"title":"Platform","id":"7b917601-c8a4-4752-9186-abb38d6a4aba"},{"title":"Intergration","id":"f045e1a4-8730-45ac-96a1-bd9120e962e6","children":{"attached":[{"title":"Facebook Authentication","id":"a1879bf3-32db-4e92-8c9f-c75b1495dd5a"},{"title":"Google Analytics ID","id":"a952e070-abe0-4b7e-a25a-ceb585d172c5"},{"title":"Wix","id":"5c0d2607-270a-4540-8c63-4906bfd442ba"}]}},{"id":"a7e00e35-1731-4d57-b1f3-ead2df3a61d8","title":"Authorization","children":{"attached":[{"title":"Assign User to Campaign","id":"759c6153-7c7c-48c6-b62b-f1d0feaa8dd9"}]}}]}},{"title":"Modify","id":"489298be-3046-44f5-9468-d5e784816561","children":{"attached":[{"id":"a900a3ac-2bf7-4348-b805-7c8f98ca65c1","title":"Project Name"},{"id":"c42bf4e3-22c3-48fc-97e4-c4ea33b6b2e1","title":"Platform"},{"id":"be304a9a-a842-49a1-9ec2-000742187f9c","title":"Intergration","children":{"attached":[{"id":"fc97b4c6-5755-4a88-ba11-c92735619f1f","title":"Facebook Authentication"},{"id":"f6ddbbd2-fdcd-410d-9c18-bfde9468d454","title":"Google Analytics ID"},{"id":"a9e96ddf-50a7-407b-941b-daf51908e5df","title":"Wix"}]}},{"id":"bd8f234d-0966-4a21-859f-3ecaf6f9067f","title":"Authorization","children":{"attached":[{"id":"6e3eb554-49f0-4bbc-a15c-7a94ce79e102","title":"Assign User to Campaign"},{"id":"3614dd49-580d-4832-ae35-3f2c9d24852f","title":"Remove"}]}}]}},{"id":"547c37de-85e6-4731-94b3-c44c5731eeea","title":"Authorization","children":{"attached":[{"title":"Assign Campaign","id":"98f2778b-7f08-43fe-8bc5-ab29390e00c3"},{"title":"Remove From paiCamgn","id":"05419811-645e-4b10-bf33-5962985ec4c9"}]}}]}}]}},{"title":"2. Overview Campaign Report","id":"5aebe4c7-a01f-4694-bcd4-9ba74cef3cb4","children":{"attached":[{"title":"All Prelaunch Campaign","id":"e85b1c1d-0610-4b41-bf56-ac1e7767e3c4","children":{"attached":[{"title":"A series of data","id":"415eca44-7f38-4120-a514-6fdbc176bd01"}],"summary":[{"title":"GA\nFB\nWix","id":"465ffdfb-658e-4a3e-afac-3ccab395d93e"}]},"summaries":[{"id":"02818f10-9c9e-418d-b39b-fac1b97d7633","range":"(0,0)","topicId":"465ffdfb-658e-4a3e-afac-3ccab395d93e"}]},{"title":"All Live Campaign","id":"02f46523-ada1-4011-897d-e08e18a9d993","children":{"attached":[{"title":"A series of data","id":"837ca747-f848-417a-94b0-67e0feda787d"}],"summary":[{"title":"GA\nFB\nKS/IGG","id":"e46798ed-27b7-4690-a9eb-2d4a757a008c"}]},"summaries":[{"id":"2be20c02-a561-4b61-b70a-811637c633f8","range":"(0,0)","topicId":"e46798ed-27b7-4690-a9eb-2d4a757a008c"}]}]},"summaries":[]},{"title":"3. Prelaunch Campaign","id":"af57fc8c-1f11-4f7a-946e-31bc3f94b3c2","children":{"attached":[{"title":"View Data","id":"4bc87bdd-58e8-40a4-8e01-c0afcd0a3b7b","children":{"attached":[{"title":"Overview","id":"b30fbfea-fbef-47da-9335-bd0059c97b54","children":{"attached":[{"title":"Total Visits","id":"ba6f89f9-b402-4ab5-81ba-874dbef3300d"},{"title":"Total Leads","id":"a932ab70-ebfe-4b07-bb91-1f25371b28fa"},{"title":"Con. Rate","id":"c58a0a53-8bb2-4386-af77-a9059391911c"},{"title":"AD COST","id":"91aa5ff3-a170-4a40-a38b-99f57998ef5d"},{"title":"AD BUDGET","id":"b47bb008-5f3e-473e-8874-4ab5b98cf518"}],"summary":[{"title":"GA\nFB\nWix","id":"354f3c8a-8db8-4b66-b59b-2801c950ec8f"}]},"summaries":[{"id":"75ef46be-67c7-4fea-adb6-fd258fb37486","range":"(0,4)","topicId":"354f3c8a-8db8-4b66-b59b-2801c950ec8f"}]},{"title":"EDM","id":"f6487555-b928-4101-af67-4bc851895385","children":{"attached":[{"title":"Total EDM Sent","id":"a2d73020-1a2f-4165-8722-9758dea2b650"},{"title":"Email Open ","id":"d637cd6c-9e87-4528-964a-eb79c089c4c4"},{"title":"Email Open Rate","id":"6b1e7485-207d-4914-abc7-c330d136a54b"},{"title":"Link Click","id":"d0fc3198-237e-4f8f-abb1-5ffaf0b53bf7"},{"title":"Link Click Rate","id":"9803b307-6b5f-485e-993d-72c7ca4c1628"}],"summary":[{"title":"Wix","id":"095285ab-fce9-4d00-b0d6-3e27bbcf0c6f"}]},"summaries":[{"id":"2c79e35d-cb56-4760-9792-a1249de916c7","range":"(0,4)","topicId":"095285ab-fce9-4d00-b0d6-3e27bbcf0c6f"}]},{"title":"Wave figure","id":"d43bbcdc-1980-45f4-b3f9-743dbb68d451","children":{"attached":[{"id":"ebf1f9f9-7992-42eb-905f-720ff74cd7ec","title":"Total Visits"},{"id":"634299bb-0ca7-4664-b3e4-24e20c02b55f","title":"Total Leads"},{"id":"8e838650-efbf-43c8-b98d-b01b52e92819","title":"Con. Rate"},{"id":"43eb31af-2fa5-404b-bd9d-44ecdb2d0e52","title":"AD COST"},{"id":"d0ae8262-01ff-42af-a9be-91e0e21bafd7","title":"AD BUDGET"}],"summary":[{"title":"GA\nFB\nWix","id":"5c67948e-5a2a-4469-b91c-2c1100a1ad47"}]},"summaries":[{"id":"78b8e3ba-02b4-4d03-a458-27a304ed21d3","range":"(0,4)","topicId":"5c67948e-5a2a-4469-b91c-2c1100a1ad47"}]},{"title":"Everyday Data","id":"d289f225-f8ee-4b24-a915-628c7d5193a7","children":{"attached":[{"title":"Date","id":"b796620d-9591-4894-ad4c-bdebf99ed77b"},{"title":"Visitor","id":"1b963813-127b-400d-9911-3f102d4ee447"},{"title":"Lead","id":"b46c6dfe-ab3b-429b-b779-dda75c47ae22"},{"title":"Con. Rate","id":"db6924de-6421-49ae-a97e-1d87ba0d7ff2"},{"title":"Reserve","id":"b8eeebdd-dc68-419c-b6bb-f2349fc23615"},{"title":"CPA","id":"7481e376-edb3-456f-b337-f3261d0d7641"},{"title":"CTR","id":"a0fe24de-89bf-4a49-a970-8f8e04010139"},{"title":"Visitor","id":"cc719f7b-8a77-44c0-8a1a-86a04dbd0406"},{"title":"Lead","id":"aa6f2a93-8225-4f86-afc0-4e0af9caf0cf"},{"title":"Reserve","id":"82fe2446-5143-49ee-b396-e195c021254c"},{"title":"Ad Cost","id":"f995ebfa-6bb4-4ace-a39e-23ad387f619d"},{"title":"Average CPA","id":"7f781a7e-ca82-48fc-a1e6-89b4817ef45d"}],"summary":[{"title":"GA\nFB\nWix","id":"ee09cd2d-8d13-4ea9-ad11-8a8b058c7f5a"}]},"summaries":[{"id":"fa7e6322-6d82-405a-92d5-286f0fdb1dd0","range":"(0,11)","topicId":"ee09cd2d-8d13-4ea9-ad11-8a8b058c7f5a"}]},{"title":"Country Analysis","id":"ea178235-5eda-412a-adac-ab58e0149e6e","children":{"attached":[{"title":"Country","id":"1cc395b0-e68d-42e2-a79f-537a82187535"},{"title":"Total Lead","id":"5f47087a-a1c9-4073-8bb4-ed189f320a1a"},{"title":"Total Reserve","id":"8cd0717c-0874-498a-946b-d8aeee16b5f0"},{"title":"Reserve Rate","id":"6587068f-8db2-4d6e-b197-a203dd464eb4"},{"title":"Last 24hrs Lead","id":"c0550c62-4c29-4096-912a-0884e9a472a1"},{"title":"Last 24hrs Reserve","id":"ec3a2c68-2547-423e-8357-a19294d2e2cb"},{"title":"Reserve Rate","id":"ea3c3298-daff-4e25-8dd8-be3960f6f705"}],"summary":[{"title":"FB","id":"bc9583f1-45c7-4e61-bfc7-76634d54ee4a"}]},"summaries":[{"id":"9cc02be2-fae4-47b4-b226-df3f27151192","range":"(0,6)","topicId":"bc9583f1-45c7-4e61-bfc7-76634d54ee4a"}]},{"title":"Country Pie Chart","id":"7d33fe7b-b0c7-409d-8e71-7c1406e7a1a4","children":{"attached":[{"title":"Country Lead","id":"b2f20992-8201-42c7-b2a2-89fac2b304bf"},{"title":"Country Reserve","id":"4cf72601-8e14-4511-a2f7-4312e53050f7"}],"summary":[{"title":"FB","id":"a7165c1c-9d2c-4d4d-b522-ef050fe4d25f"}]},"summaries":[{"id":"f03a3a08-555b-45d6-9f45-691743bb1033","range":"(0,1)","topicId":"a7165c1c-9d2c-4d4d-b522-ef050fe4d25f"}]}]}},{"title":"Download Report","id":"fab89e4a-4426-44fd-86c2-56cd52f3dfb3","children":{"attached":[{"title":"Output Report","id":"dbd45d78-453a-4209-a84b-692d806a8f5c","children":{"attached":[{"title":"PNG","id":"a7073988-0bb6-48db-af3f-2390a7ea4e3a"},{"title":"Excel (Everyday Data)","id":"5300ae18-674f-4cec-9a6f-f94418757cbc"}]}}]}}]}},{"id":"3ef0a442-3123-4b25-9e70-9262b024d765","title":"4. Live Campaign","children":{"attached":[{"title":"View Data","id":"ccb2b37f-0722-4065-b824-3a8b57c5aabd","children":{"attached":[{"title":"Overview","id":"f3eb3237-bdb5-4bff-95f7-aa5e78eb15cb","children":{"attached":[{"id":"50e9cb42-78c5-42ce-807b-9583c3a5fd0d","title":"Total Fund $"},{"id":"c2676f74-ca2d-4afd-8204-47d05605715f","title":"Total Backer #"},{"id":"7b1527b6-0c79-401c-8951-63bffd1aa33d","title":"Con. Rate"},{"id":"790bc41a-b5bc-401f-b9f2-cf24f295d2eb","title":"ROAS"},{"title":"Total AD Spent","id":"9596bf56-5fae-4818-8e32-170d2f13c5b2"},{"title":"AD Budget Cap","id":"7d904c18-08a5-4640-bf5f-75a83c26c69b"}],"summary":[{"title":"GA\nKS/IGG\nFB","id":"31667a9a-5b9a-491a-90a1-efe5e519cafe"}]},"summaries":[{"id":"049adee8-c2b0-41af-b6cb-44e2d172fb30","range":"(0,5)","topicId":"31667a9a-5b9a-491a-90a1-efe5e519cafe"}]},{"id":"8ee1cf65-8eda-47fb-97f1-eefaed4ab8d2","title":"EDM","summaries":[{"id":"88acaf69-5575-4cfc-bba5-c8e5fab61f46","range":"(0,4)","topicId":"41cf400e-d1c4-4a4a-9e5c-7b36e5a5130f"}],"children":{"attached":[{"title":"Total EDM Sent","id":"6c71dabf-c209-4e32-b7d4-0b3df94244fc"},{"title":"Email Open ","id":"f740f70b-5497-4b38-bd6d-21865b85abd1"},{"title":"Email Open Rate","id":"27b13ef1-ed25-431e-9ffa-7be91f9c2467"},{"title":"Link Click","id":"832f1ac8-d853-4aab-8393-049372d03589"},{"title":"Link Click Rate","id":"33ec00ab-dffc-4f00-885e-8e816e966bc7"}],"summary":[{"title":"Wix","id":"41cf400e-d1c4-4a4a-9e5c-7b36e5a5130f"}]}},{"title":"Wave figure","id":"0acbb406-741e-4042-b2ba-7a1b7a257552","children":{"attached":[{"id":"c295a05b-c232-481f-a2c8-dfdbd8c3bdb9","title":"Total Fund $"},{"title":"Total Backer #","id":"13171608-fcb1-468e-a7a6-d2e56422c360"},{"id":"b2fe1800-edb0-486d-88ae-929d718dd6d0","title":"Traffic/Visits"},{"id":"80663bbf-dc6f-485c-badf-927158043d0d","title":"Daily AD COST"},{"title":"ROAS","id":"399c8571-bfea-427c-9e5e-8bca7f818476"}],"summary":[{"title":"KS/IGG\nGA","id":"67615bf8-4f88-498b-8261-d07a4e303ce2"}]},"summaries":[{"id":"48755a6e-3f3b-4394-b26a-1aaad7565c4b","range":"(0,4)","topicId":"67615bf8-4f88-498b-8261-d07a4e303ce2"}]},{"title":"Everyday Data","id":"162989de-ed82-4bf6-8482-983c9d99b778","children":{"attached":[{"title":"Date","id":"831c41f0-a088-4432-8e14-328c86e013f6"},{"title":"Visitor","id":"8d4c212a-06b2-4d90-870a-d2525674c3bc"},{"title":"Purchase #","id":"5c81c04b-6c51-4983-a59b-019cdf428089"},{"title":"Purchase $","id":"c786f0dd-308e-401e-bce2-9c1fea0e1304"},{"id":"d33981f6-539d-490d-8b67-f715d6205cb9","title":"% of Purchase $ increased compare to yesterday","customWidth":196.3103020893805},{"title":"Con. Rate","id":"d76ebc49-8c73-4d7d-b182-9cd34ccb5ffa"},{"title":"FB Ads Purchase $","id":"33352630-7a7f-44f7-bd1f-713c9b6ca8da"},{"id":"ddee242f-2636-44c0-9711-464dfa256d5e","title":"FB Ads Purchase #"},{"title":"FB Ads Spends","id":"ce6af412-ae4b-442f-bffd-de4dd918a364"},{"title":"FB ROAS","id":"6492cd4f-4af6-43ac-b1d3-a5b7269d9433"}],"summary":[{"title":"GA\nFB\nWix","id":"d71d790a-1dd9-4fe8-93af-564a1bffbca3"}]},"summaries":[{"id":"b588d477-4b81-497a-b7f6-ec1ec3a32a24","range":"(0,9)","topicId":"d71d790a-1dd9-4fe8-93af-564a1bffbca3"}]},{"id":"8c198d1c-c331-4a59-bec0-96fa49e84ec7","title":"Campaign Insights","summaries":[{"id":"aec31655-bfee-4b19-b124-56a61a447024","range":"(1,1)","topicId":"6c91bed6-b955-4eef-8de4-637c42cb20e6"},{"id":"221e0e55-5faf-497d-8cf7-bb334fef1cf8","range":"(0,0)","topicId":"8996a19b-ff7e-45ba-9e75-70708d72f8db"}],"children":{"attached":[{"title":"Kickstarter","id":"1f664cf7-eab8-44a2-b93d-ddac362195de","children":{"attached":[{"title":"Average Pledge","id":"d195b19c-b5d5-4ad1-bdd9-e1de67c116d5","children":{"attached":[{"title":"Pie Chart","id":"23e63a32-b84b-4584-9030-52def127e822"},{"title":"Average Pledge $","id":"1febcf61-be40-431c-810a-c7372b5f5ce1"}]}},{"title":"Video Played","id":"e3f2749b-dcc1-43ed-85ba-0b698c5262fe","children":{"attached":[{"title":"# of video played","id":"d2aa98b9-8f7e-4438-b8b6-b7f90d871a50"},{"title":"% of plays completed","id":"40110c0e-dbc8-42c7-8034-08e13125410c"},{"title":"Location of Plays","id":"156e960a-891a-498f-8dee-ac8f926e3780"}]}},{"title":"Pledge Sources","id":"553f31c7-0e68-4694-90e5-1050b02d6747","children":{"attached":[{"title":"Kickstarter Internal","id":"a96823e7-be38-4ad9-8d2e-585d80e3ffba","children":{"attached":[{"title":"$","id":"53261547-a743-4add-8219-020ca9e70246"},{"title":"%","id":"b4e6f1c9-834b-428c-bad2-475f91c5f669"}]}},{"title":"External Sources","id":"b09925be-bbce-4f27-99b2-81cdc239c85c","children":{"attached":[{"id":"0c911109-9be0-4a85-8569-7d17446844ab","title":"$"},{"id":"deddce5e-48ca-45c1-b958-79bb866169cd","title":"%"}]}},{"title":"Custom Sources","id":"991554c8-f8bf-48c4-a1ae-cf90cda75ae2","children":{"attached":[{"id":"7cb5214e-5cd4-4a78-8268-8fe8880170f7","title":"$"},{"id":"8081de73-05e2-42b6-9071-b6fa1ab6ee49","title":"%"}]}}]}},{"title":"Referrers","id":"5f4bb334-0703-44c7-9caf-566c367c11d7","children":{"attached":[{"title":"Top 20 Sources List","id":"33621c8f-a3fb-458e-b41b-f25ea9612466","children":{"attached":[{"title":"Reference","id":"4589b3ff-6b6a-4086-b08a-fa51ab2f90ee"},{"title":"Type","id":"7f5a8d83-c8a3-4229-92ae-09b870cdf814"},{"title":"# of Pledge","id":"09a492fe-a9d2-438e-8ca1-a20d58a78644"},{"id":"4fb0caaf-298f-4ff8-840e-1cf8ddec42fe","title":"% of Raised"},{"id":"f48b9433-5f47-411f-8da7-7091d9782b75","title":"$ Raised"}]}}]}},{"id":"2e5fc1b2-75a6-4081-8963-750d2119a0b6","title":"Top Countries With Contributions","children":{"attached":[{"id":"ca352776-5688-4f0d-9415-12a4f80556e9","title":"Pie Chart"},{"id":"b127b2d0-0aa0-4e8c-95f7-b96c60c783c6","title":"Top 10 Sources List","children":{"attached":[{"title":"Controbutions","id":"eef22c5a-912a-4bbd-9c33-46582f96fcae"}]}}]}}]}},{"title":"Indiegogo","id":"ef3e8cdd-04ca-4a46-bb2a-379ec5e4d239","children":{"attached":[{"title":"Sources","id":"d87b975a-a61c-44a6-b664-058060386700","children":{"attached":[{"title":"Pie Chart","id":"b070cdc1-683c-4e57-ab14-e382eaa81e94"},{"title":"Top 10 Sources List","id":"803affd2-cb6d-4511-bf07-19ff735ba1dd","children":{"attached":[{"title":"Source","id":"b7cc344c-e980-4cd4-bb01-ad0319a8f843"},{"title":"Amount","id":"44165ac0-a7ae-46ea-bd66-e5443177a096"},{"title":"Controbutions","id":"d359f8f8-324a-4d3c-9101-dbadc1ed81c9"},{"title":"% of Raised","id":"5a404516-a0ec-47ed-a498-da0e3dc42bf0"}]}}]}},{"title":"Top Countries With Contributions","id":"5e71466d-5125-4c13-931a-d4b58e819e8a","children":{"attached":[{"id":"7b88c1e8-1b73-40bd-9bd3-5f0f0bc0170f","title":"Pie Chart"},{"id":"af6cde2b-54df-4d14-8aec-0aa79389d314","title":"Top 10 Sources List","children":{"attached":[{"title":"Country","id":"a92bdb31-4955-4bc5-bfb7-081aadf72a06"},{"title":"Amount","id":"d27fd155-30af-4b76-b4ba-2281766ffff4"},{"title":"Controbutions","id":"3d34bcff-9f1a-4a78-972e-ab6fb561c5d9"},{"title":"Visits","id":"6eb7cbae-fbe7-4f42-986c-9f97c3601b9f"}]}}]}}]}}],"summary":[{"title":"Indiegogo","id":"6c91bed6-b955-4eef-8de4-637c42cb20e6"},{"title":"Kickstarter","id":"8996a19b-ff7e-45ba-9e75-70708d72f8db"}]}},{"title":"Country Analysis","id":"35fcff5a-3cce-47ba-9d08-1dd30f9139fa","children":{"attached":[{"title":"Country","id":"fb48d429-f9d5-434c-878d-b6d558d9a632"},{"title":"CTR","id":"56e75391-bdcb-4c3b-8607-33b02e8d6e69"},{"title":"Con. Rate","id":"4c192600-10e4-4f17-bead-28f72d30275a"},{"title":"Total Purchase #","id":"4823ad08-209c-4331-b8c9-4a52220e9571"},{"id":"d796eeb4-473c-4f8b-9f87-77d526ce98ea","title":"Total Purchase $"},{"title":"Last 24hrs Purchase #","id":"b4aea4d9-462d-49f2-b2a4-5a227d205256"},{"title":"Last 24hrs Purchase $","id":"d8142940-4c32-4dd1-a7b0-210203bf6de8"}],"summary":[{"title":"FB","id":"eac26edb-1b20-4a29-8566-3fe87b776273"}]},"summaries":[{"id":"5dd44a45-bcf1-414f-9c85-439952edd868","range":"(0,6)","topicId":"eac26edb-1b20-4a29-8566-3fe87b776273"}]},{"title":"Country Pie Chart","id":"2d52c2ac-8eb0-4e86-92ea-5471394006db","children":{"attached":[{"title":"Country Purchased #","id":"aec5fcc3-d49d-4f0f-86e6-4cf8f3f5f9e6"},{"title":"Country Purchased $","id":"18d9f705-1c7f-49f3-8be6-720c3e3901bb"}],"summary":[{"title":"FB","id":"3ef9648b-f224-42ee-b842-99e7778a6897"}]},"summaries":[{"id":"7688f134-ccd6-428e-b6fb-0a1a136b91eb","range":"(0,1)","topicId":"3ef9648b-f224-42ee-b842-99e7778a6897"}]}]}},{"title":"Download Report","id":"9330a5a9-efab-4cbe-a6ba-7408b73080a9","children":{"attached":[{"title":"Output Report","id":"c24aae2d-1b8f-4708-9602-3b1bfef6b1a2","children":{"attached":[{"title":"PNG","id":"b82f88d8-4e39-4c34-bfee-33b9468eeb52"},{"title":"Excel (Everyday Data)","id":"7092ea99-1c66-4e7b-8b4f-fd6d6eaf506f"}]}}]}}]}}]}}]}},"theme":{"id":"6518e97a4149b5f966910on58d","importantTopic":{"type":"topic","properties":{"fo:font-weight":"bold","fo:color":"#111111","svg:fill":"#FDD834"}},"minorTopic":{"type":"topic","properties":{"fo:font-weight":"bold","fo:color":"#FFFFFF","svg:fill":"#0288D1"}},"expiredTopic":{"type":"topic","properties":{"fo:font-style":"italic","fo:text-decoration":" line-through"}},"boundary":{"properties":{"fo:color":"#000000","fo:font-family":"NeverMind","fo:font-size":"13pt","fo:font-style":"normal","fo:font-weight":"600","line-color":"#FAC453","line-pattern":"dash","line-width":"2","shape-class":"org.xmind.boundaryShape.roundedRect","svg:fill":"none"},"styleId":"c5a51af1-74af-4fbd-8ee5-763471448081","type":"boundary"},"calloutTopic":{"properties":{"fo:color":"#000000","fo:font-family":"NeverMind","fo:font-size":"14pt","fo:font-style":"normal","fo:font-weight":"600","svg:fill":"#00E6F5"},"styleId":"a5ee709d-fc9d-4e89-95a8-c21a32ee3ac1","type":"topic"},"centralTopic":{"properties":{"border-line-color":"#292929","fo:font-family":"NeverMind","fo:font-style":"normal","fo:font-weight":"600","line-width":"3","shape-class":"org.xmind.topicShape.roundedRect","svg:fill":"#303E9F"},"styleId":"34bcc8f6-e2ae-4e9d-a49c-9a9f21293392","type":"topic"},"floatingTopic":{"properties":{"border-line-width":"0","fo:color":"#000000","fo:font-family":"NeverMind","fo:font-size":"16pt","fo:font-style":"normal","fo:font-weight":"bold","line-class":"org.xmind.branchConnection.roundedElbow","line-color":"#35455B","line-width":"2","shape-class":"org.xmind.topicShape.roundedRect","svg:fill":"#00E6F5"},"styleId":"184a313f-244f-4f22-9cd1-a7bdd9080495","type":"topic"},"mainTopic":{"properties":{"fo:color":"#FFFFFF","fo:font-family":"NeverMind","fo:font-size":"20pt","fo:font-style":"normal","fo:font-weight":"500","fo:text-align":"left","line-width":"2","svg:fill":"none"},"styleId":"b7f3f6e4-539a-42d7-b9cb-7d92884769ef","type":"topic"},"map":{"properties":{"line-tapered":"tapered","multi-line-colors":"#5BD4FF #38B2FF #2589E5 #005FA2 #253777 #14235A","svg:fill":"#0B0418"},"styleId":"f5925e62-6971-41e2-934f-d98cc95d500f","type":"map"},"relationship":{"properties":{"arrow-begin-class":"org.xmind.arrowShape.none","arrow-end-class":"org.xmind.arrowShape.triangle","fo:color":"#FAC453","fo:font-family":"NeverMind","fo:font-style":"normal","fo:font-weight":"400","line-color":"#FAC453","line-pattern":"dash","line-width":"2","shape-class":"org.xmind.relationshipShape.curved"},"styleId":"0f5f2440-3459-4a04-b6fd-3f97a7900f37","type":"relationship"},"subTopic":{"properties":{"border-line-width":"0","fo:color":"#FFFFFF","fo:font-family":"NeverMind","fo:font-size":"14pt","fo:text-align":"left","shape-class":"org.xmind.topicShape.roundedRect","svg:fill":"#1D283E"},"styleId":"2d0c249b-7bda-4d34-8664-c0b6783ece4b","type":"topic"},"summary":{"properties":{"line-color":"#2E86C1","line-width":"2","shape-class":"org.xmind.summaryShape.round"},"styleId":"0039e8af-58d5-451e-a1fa-3b83966b9991","type":"summary"},"summaryTopic":{"properties":{"border-line-width":"0","fo:font-family":"NeverMind","fo:font-size":"16pt","fo:font-style":"normal","fo:font-weight":"600","line-class":"org.xmind.branchConnection.curve","line-color":"#2F86C1","line-width":"2","shape-class":"org.xmind.topicShape.roundedRect","svg:fill":"#303E9F"},"styleId":"5d6af447-bb74-45d2-9d2e-7cb2de506ee4","type":"topic"}},"topicPositioning":"fixed"
        }]
        # serializer= ProductSerializer(content,many=True)
        return Response(content) 

@api_view(['GET'])
def getProducts(request):
        products=Product.objects.all()
        serializer= ProductSerializer(products,many=True)
        return Response(serializer.data)    

@api_view(['GET'])
def getProduct(request, pk):
        product=Product.objects.get(_id=pk)
        serializer= ProductSerializer(product,many=False)
        return Response(serializer.data) 

@api_view(['POST'])
@permission_classes([IsAdminUser])
def createProduct(request):
        user = request.user
        data = request.data
        product=Product.objects.create(
            user = user,
            name = data['name'],
            brand = data['brand'],
            category = data['category'],
            description = data['description'],
            rating = data['rating'],
            numReviews = data['numReviews'],
            price = data['price'],
            countInStock = data['countInStock'],
        )
        serializer= ProductSerializer(product,many=False)
        return Response(serializer.data) 


@api_view(['DELETE'])
@permission_classes([IsAdminUser])
def deleteProduct(request, pk):
        product=Product.objects.get(_id=pk)
        product.delete()
        return Response('product deleted')         
